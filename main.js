!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.baseUrl,r=e.authorization;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._auth=r}var n,r;return n=t,(r=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status," error!"))}},{key:"getUserInfo",value:function(){var e=this;return fetch(this._baseUrl+"/users/me",{headers:{authorization:this._auth}}).then((function(t){return e._checkResponse(t)}))}},{key:"getGroupCards",value:function(){var e=this;return fetch(this._baseUrl+"/cards",{headers:{authorization:this._auth}}).then((function(t){return e._checkResponse(t)}))}},{key:"updateProfile",value:function(e){var t=this,n=e.name,r=e.about;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({name:n,about:r})}).then((function(e){return t._checkResponse(e)}))}},{key:"updateAvatar",value:function(e){var t=this,n=e.avatar;return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({avatar:n})}).then((function(e){return t._checkResponse(e)}))}},{key:"addCard",value:function(e){var t=this,n=e.name,r=e.link;return fetch(this._baseUrl+"/cards",{method:"POST",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({name:n,link:r})}).then((function(e){return t._checkResponse(e)}))}},{key:"likeCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._auth,"Content-Type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}},{key:"removeLike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._auth,"Content-Type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._auth,"Content-Type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){var n=t.card,r=t.handleCardClick,o=t.handleDeleteClick,i=t.userData,a=t.handleLikeCard,u=t.templateSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n.name,this._link=n.link,this._likedData=n.likes,this._timesLiked=n.likes.length,this._id=n._id,this._creatorName=n.owner.name,this._creatorId=n.owner._id,this._user=i._id,this._openPopup=r,this._handleDeleteClick=o,this._templateSelector=u,this._handleLikeCard=a}var t,r;return t=e,(r=[{key:"_toggleLikeStatus",value:function(e){var t=this;this._handleLikeCard(!e.target.classList.contains("card__heart_liked")).then((function(n){e.target.classList.toggle("card__heart_liked"),t._updateDisplayedLikes(e,n)})).catch((function(e){return console.error(e)}))}},{key:"_updateDisplayedLikes",value:function(e,t){this._newPlace.querySelector(".card__likes").textContent=t.likes.length}},{key:"_setEventListeners",value:function(){var e=this;this._deleteButton=this._newPlace.querySelector(".card__delete"),this._creatorId!==this._user?this._deleteButton.remove():this._deleteButton.addEventListener("click",(function(t){e._handleDeleteClick(t)})),this._likeButton=this._newPlace.querySelector(".card__heart"),this._likeButton.addEventListener("click",(function(t){e._toggleLikeStatus(t)})),this._placeImage=this._newPlace.querySelector(".card__image"),this._placeImage.addEventListener("click",(function(){e._openPopup(e._name,e._link)}))}},{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_setLikedStatus",value:function(){var e=this;this._newPlace.querySelector(".card__likes").textContent=this._timesLiked,this._likedData.some((function(t){return t._id===e._user}))&&this._newPlace.querySelector(".card__heart").classList.add("card__heart_liked")}},{key:"createCard",value:function(){return this._newPlace=this._getTemplate(),this._setEventListeners(),this._newPlace.querySelector(".card__title").textContent=this._name,this._placeImage.src=this._link,this._placeImage.alt="".concat(this._name),this._setLikedStatus(),this._newPlace}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=t.renderer,r=t.containerSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=n,this._container=document.querySelector(r)}var t,n;return t=e,(n=[{key:"setItems",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(e){var t=this;this.clear(),e.forEach((function(e){t._renderer(e)}))}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._handleOverlayClose=this._handleOverlayClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target.classList.contains("popup_opened")&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){e.close()}))}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("click",this._handleOverlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("click",this._handleOverlayClose)}}])&&a(t.prototype,n),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._caption=t._popup.querySelector(".popup__caption"),t._image=t._popup.querySelector(".popup__image"),t}return t=a,(n=[{key:"open",value:function(e,t){this._caption.textContent=e,this._image.src=t,l(h(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),a}(u);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t,n=e.popupSelector,r=e.formSubmitHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._form=t._popup.querySelector(".popup__form"),t._button=t._popup.querySelector(".popup__save-button"),t._formSubmitHandler=r,t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=Array.from(this._popup.querySelectorAll(".popup__input")),t={};return e.forEach((function(e){t[e.name]=e.value})),t}},{key:"open",value:function(){v(k(a.prototype),"open",this).call(this),this._button.textContent="Save"}},{key:"setEventListeners",value:function(){var e=this;v(k(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._button.textContent="Saving...",e._formSubmitHandler(e._getInputValues())}))}},{key:"close",value:function(){v(k(a.prototype),"close",this).call(this),this._form.reset()}}])&&y(t.prototype,n),a}(u);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function a(e){var t,n=e.popupSelector,r=e.formSubmitHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._form=t._popup.querySelector(".popup__form"),t._button=t._popup.querySelector(".popup__save-button"),t._formSubmitHandler=r,t}return t=a,(n=[{key:"open",value:function(e,t){E(O(a.prototype),"open",this).call(this),this._button.textContent="Yes",this._cardId=t,this._card=e.target.parentElement}},{key:"setEventListeners",value:function(){var e=this;E(O(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._button.textContent="Deleting...",e._formSubmitHandler(e._card,e._cardId)}))}}])&&w(t.prototype,n),a}(u);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){var n=t.name,r=t.about,o=t._id,i=t.avatar,a=t.nameElement,u=t.aboutElement,c=t.avatarElement;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._about=r,this._id=o,this._avatar=i,this._profileName=a,this._profileAbout=u,this._profileImage=c}var t,n;return t=e,(n=[{key:"updateUserInfo",value:function(e){var t=e.name,n=e.about,r=e._id,o=e.avatar;this._name=t||this._name,this._about=n||this._about,this._id=r||this._id,this._avatar=o||this._avatar}},{key:"removeAvatar",value:function(){this._profileImage.src="",this._profileImage.alt=""}},{key:"getUserInfo",value:function(){return{name:this._name,about:this._about,_id:this._id,avatar:this._avatar}}},{key:"renderUserInfo",value:function(){this._profileName.textContent=this._name,this._profileAbout.textContent=this._about,this._profileImage.src=this._avatar,this._profileImage.alt=this._name}}])&&I(t.prototype,n),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._input=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButton=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n,this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputList=Array.from(n.querySelectorAll(this._input))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._form.querySelector(".popup__input-error_".concat(e.id));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector(".popup__input-error_".concat(e.id));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_setEventListeners",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._submitButton.classList.add(this._inactiveButton),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._inactiveButton),this._submitButton.disabled=!1)}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&R(t.prototype,n),e}(),B=document.querySelector(".profile__edit-button"),T=document.querySelector(".popup__form_role_edit"),U=document.querySelector(".profile__avatar-overlay"),D=document.querySelector(".popup__form_role_avatar"),x=document.querySelector(".profile__add-button"),H=document.querySelector(".popup__form_role_add"),A=document.querySelector(".profile__name"),z=document.querySelector(".profile__title"),V=document.querySelector(".profile__avatar"),N=document.querySelector(".popup__input_role_name"),J=document.querySelector(".popup__input_role_title"),G={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_invalid",errorClass:"popup__input-error_active"},M=new t({baseUrl:"https://around.nomoreparties.co/v1/group-12",authorization:"9b815c88-30e1-42fa-b363-04c78bf0d633"}),Y=new q(G,H),F=new q(G,T),K=new q(G,D);F.enableValidation(),Y.enableValidation(),K.enableValidation();var Q=new j({nameElement:A,aboutElement:z,avatarElement:V}),W=new P({popupSelector:".popup_role_delete",formSubmitHandler:function(e,t){M.deleteCard(t).then((function(){e.remove(),W.close()})).catch((function(e){return console.error("Problem deleting card: ".concat(e))}))}}),X=function(e){return new r({card:e,handleCardClick:function(e,t){$.open(e,t)},handleDeleteClick:function(t){W.open(t,e._id)},userData:Q.getUserInfo(),handleLikeCard:function(t){return t?M.likeCard(e._id):M.removeLike(e._id)},templateSelector:"#place-template"})},Z=new i({renderer:function(e){var t=X(e);Z.setItems(t.createCard())},containerSelector:".cards"}),$=new _(".popup_role_image"),ee=new g({popupSelector:".popup_role_edit",formSubmitHandler:function(e){M.updateProfile(e).then((function(){Q.updateUserInfo(e),Q.renderUserInfo(),ee.close()})).catch((function(e){return console.error("Problem updating profile: ".concat(e))}))}}),te=new g({popupSelector:".popup_role_add",formSubmitHandler:function(e){M.addCard(e).then((function(e){var t=X(e);Z.setItems(t.createCard())})).then((function(){return te.close()})).catch((function(e){return console.error("Problem adding card: ".concat(e))}))}}),ne=new g({popupSelector:".popup_role_avatar",formSubmitHandler:function(e){Q.removeAvatar(),M.updateAvatar(e).then((function(){Q.updateUserInfo(e),Q.renderUserInfo(),ne.close()})).catch((function(e){return console.error("Problem updating avatar: ".concat(e))}))}});W.setEventListeners(),$.setEventListeners(),ee.setEventListeners(),te.setEventListeners(),ne.setEventListeners(),B.addEventListener("click",(function(){var e=Q.getUserInfo(),t=e.name,n=e.about;N.value=t,J.value=n,F.toggleButtonState(),ee.open()})),x.addEventListener("click",(function(){te.open(),Y.toggleButtonState()})),U.addEventListener("click",(function(){ne.open(),K.toggleButtonState()})),M.getUserInfo().then((function(e){Q.updateUserInfo(e)})).then((function(){M.getGroupCards().then((function(e){Z.renderItems(e.reverse())}))})).then((function(){Q.renderUserInfo()})).catch((function(e){return console.error("Problem rendering content: ".concat(e))}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIkFwaSIsImJhc2VVcmwiLCJhdXRob3JpemF0aW9uIiwidGhpcyIsIl9iYXNlVXJsIiwiX2F1dGgiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJoZWFkZXJzIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJsaW5rIiwiY2FyZElkIiwiQ2FyZCIsImNhcmQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsInVzZXJEYXRhIiwiaGFuZGxlTGlrZUNhcmQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiX25hbWUiLCJfbGluayIsIl9saWtlZERhdGEiLCJsaWtlcyIsIl90aW1lc0xpa2VkIiwibGVuZ3RoIiwiX2lkIiwiX2NyZWF0b3JOYW1lIiwib3duZXIiLCJfY3JlYXRvcklkIiwiX3VzZXIiLCJfb3BlblBvcHVwIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlTGlrZUNhcmQiLCJldnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInRvZ2dsZSIsIl91cGRhdGVEaXNwbGF5ZWRMaWtlcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZSIsIl9uZXdQbGFjZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsIl9kZWxldGVCdXR0b24iLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VCdXR0b24iLCJfdG9nZ2xlTGlrZVN0YXR1cyIsIl9wbGFjZUltYWdlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwic29tZSIsImFkZCIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInNyYyIsImFsdCIsIl9zZXRMaWtlZFN0YXR1cyIsIlNlY3Rpb24iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJpdGVtcyIsImNsZWFyIiwiZm9yRWFjaCIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsImtleSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX2NhcHRpb24iLCJfaW1hZ2UiLCJQb3B1cFdpdGhGb3JtIiwiZm9ybVN1Ym1pdEhhbmRsZXIiLCJfZm9ybSIsIl9idXR0b24iLCJfZm9ybVN1Ym1pdEhhbmRsZXIiLCJpbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGF0YSIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoQ29uZmlybSIsIl9jYXJkSWQiLCJfY2FyZCIsInBhcmVudEVsZW1lbnQiLCJVc2VySW5mbyIsIm5hbWVFbGVtZW50IiwiYWJvdXRFbGVtZW50IiwiYXZhdGFyRWxlbWVudCIsIl9hYm91dCIsIl9hdmF0YXIiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUFib3V0IiwiX3Byb2ZpbGVJbWFnZSIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2lucHV0IiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfc3VibWl0QnV0dG9uIiwiX2lucHV0TGlzdCIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiZWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0b3JGb3JtIiwiYXZhdGFyQnV0dG9uIiwiYXZhdGFyVXBkYXRlRm9ybSIsImFkZEJ1dHRvbiIsImltYWdlQWRkZXJGb3JtIiwicHJvZmlsZU5hbWVFbGVtZW50IiwicHJvZmlsZUFib3V0RWxlbWVudCIsInByb2ZpbGVBdmF0YXJFbGVtZW50IiwicG9wdXBOYW1lIiwicG9wdXBUaXRsZSIsImZvcm1TZWxlY3RvciIsImFwaSIsImFkZFBsYWNlVmFsaWRhdGlvbiIsInByb2ZpbGVWYWxpZGF0aW9uIiwiYXZhdGFyVmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJ1c2VySW5mbyIsImNvbmZpcm1EZWxldGVQb3B1cCIsIlBvcHVwRGVsZXRlIiwiY2FyZEVsZW1lbnQiLCJkZWxldGVDYXJkIiwiY3JlYXRlTmV3Q2FyZCIsImltYWdlUHJldmlld1BvcHVwIiwib3BlbiIsImdldFVzZXJJbmZvIiwibGlrZUNhcmQiLCJyZW1vdmVMaWtlIiwicGxhY2VDYXJkcyIsIm5ld0NhcmQiLCJzZXRJdGVtcyIsImNyZWF0ZUNhcmQiLCJwcm9maWxlRWRpdG9yIiwidXBkYXRlUHJvZmlsZSIsInVwZGF0ZVVzZXJJbmZvIiwicmVuZGVyVXNlckluZm8iLCJpbWFnZUFkZGVyUG9wdXAiLCJhZGRDYXJkIiwiY2FyZERhdGEiLCJhdmF0YXJVcGRhdGVQb3B1cCIsInJlbW92ZUF2YXRhciIsInVwZGF0ZUF2YXRhciIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2V0R3JvdXBDYXJkcyIsImZldGNoZWRDYXJkcyIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSJdLCJtYXBwaW5ncyI6Im1NQUFxQkEsRSxXQUNuQixjQUF3QyxJQUExQkMsRUFBMEIsRUFBMUJBLFFBQVNDLEVBQWlCLEVBQWpCQSxlLDRGQUFpQixTQUVwQ0MsS0FBS0MsU0FBV0gsRUFDaEJFLEtBQUtFLE1BQVFILEUsbURBR2pCLFNBQWVJLEdBRVAsT0FBS0EsRUFBSUMsR0FHRkQsRUFBSUUsT0FGQUMsUUFBUUMsT0FBUixVQUFrQkosRUFBSUssT0FBdEIsYyx5QkFNbkIsV0FBYyxXQUNWLE9BQU9DLE1BQU1ULEtBQUtDLFNBQVcsWUFBYSxDQUN0Q1MsUUFBUyxDQUNMWCxjQUFlQyxLQUFLRSxTQUV6QlMsTUFBSyxTQUFDUixHQUFELE9BQVMsRUFBS1MsZUFB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LE1BQ2RvSixRQUFrQnJKLEVBQ2xCc0osUUFBbUJySixFQUNuQnlKLEVBQWtCbEIsb0JBQ2xCb0MsR0FBY1IsVUFHbEJwQixFQUFVakcsaUJBQWlCLFNBQVMsV0FDaENpSSxHQUFnQlosT0FDaEJYLEVBQW1CakIsdUJBR3ZCTSxFQUFhL0YsaUJBQWlCLFNBQVMsV0FDbkNvSSxHQUFrQmYsT0FDbEJULEVBQWlCbkIsdUJBR3JCZ0IsRUFBSWEsY0FDQ3ZLLE1BQUssU0FBQ2UsR0FDSGdKLEVBQVNpQixlQUFlakssTUFHM0JmLE1BQUssV0FDRjBKLEVBQUkrQixnQkFBZ0J6TCxNQUFLLFNBQUMwTCxHQUN0QmhCLEVBQVdpQixZQUFZRCxFQUFhRSxpQkFJM0M1TCxNQUFLLFdBQ0YrSixFQUFTa0Isb0JBRVoxSSxPQUFNLFNBQUNDLEdBQUQsT0FBU0MsUUFBUUMsTUFBUixxQ0FBNENGLE8iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBhdXRob3JpemF0aW9uIH0pIHtcclxuICAgICAgLy8gY29uc3RydWN0b3IgYm9keVxyXG4gICAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgICAgdGhpcy5fYXV0aCA9IGF1dGhvcml6YXRpb247XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgICAge1xyXG4gICAgICAgICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYCR7cmVzLnN0YXR1c30gZXJyb3IhYCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGgsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBnZXRHcm91cENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aCxcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG4gIHVwZGF0ZVByb2ZpbGUoeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aCxcclxuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQXZhdGFyKHsgYXZhdGFyIH0pIHtcclxuICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZS9hdmF0YXJcIiwge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aCxcclxuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogYXZhdGFyIH0pLFxyXG4gICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoLFxyXG4gICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgIGxpbmssXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aCxcclxuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aCxcclxuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aCxcclxuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih7IGNhcmQsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIHVzZXJEYXRhLCBoYW5kbGVMaWtlQ2FyZCwgdGVtcGxhdGVTZWxlY3RvciB9KSB7XHJcbiAgICAgIHRoaXMuX25hbWUgPSBjYXJkLm5hbWU7XHJcbiAgICAgIHRoaXMuX2xpbmsgPSBjYXJkLmxpbms7XHJcbiAgICAgIHRoaXMuX2xpa2VkRGF0YSA9IGNhcmQubGlrZXM7XHJcbiAgICAgIHRoaXMuX3RpbWVzTGlrZWQgPSBjYXJkLmxpa2VzLmxlbmd0aDtcclxuICAgICAgdGhpcy5faWQgPSBjYXJkLl9pZDtcclxuICAgICAgdGhpcy5fY3JlYXRvck5hbWUgPSBjYXJkLm93bmVyLm5hbWU7XHJcbiAgICAgIHRoaXMuX2NyZWF0b3JJZCA9IGNhcmQub3duZXIuX2lkO1xyXG4gICAgICB0aGlzLl91c2VyID0gdXNlckRhdGEuX2lkO1xyXG4gICAgICB0aGlzLl9vcGVuUG9wdXAgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUxpa2VTdGF0dXMoZXZ0KSB7XHJcbiAgICAgIC8vIGNhcmQgaGFzIG5vdCBiZWVuIGxpa2VkIHlldFxyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCghZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19oZWFydF9saWtlZFwiKSlcclxuICAgICAgICAgIC50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9faGVhcnRfbGlrZWRcIik7XHJcbiAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRGlzcGxheWVkTGlrZXMoZXZ0LCBjYXJkKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcblxyXG4gIF91cGRhdGVEaXNwbGF5ZWRMaWtlcyhlLCBjYXJkKSB7XHJcbiAgICAgIGNvbnN0IGRpc3BsYXllZExpa2VzRWxlbWVudCA9IHRoaXMuX25ld1BsYWNlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZXNcIik7XHJcbiAgICAgIGRpc3BsYXllZExpa2VzRWxlbWVudC50ZXh0Q29udGVudCA9IGNhcmQubGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9uZXdQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZVwiKTtcclxuICAgICAgaWYgKCEodGhpcy5fY3JlYXRvcklkID09PSB0aGlzLl91c2VyKSkge1xyXG4gICAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soZXZ0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fbmV3UGxhY2UucXVlcnlTZWxlY3RvcihcIi5jYXJkX19oZWFydFwiKTtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fdG9nZ2xlTGlrZVN0YXR1cyhldnQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuX3BsYWNlSW1hZ2UgPSB0aGlzLl9uZXdQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgICB0aGlzLl9wbGFjZUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9vcGVuUG9wdXAodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0TGlrZWRTdGF0dXMoKSB7XHJcbiAgICAgIHRoaXMuX25ld1BsYWNlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZXNcIikudGV4dENvbnRlbnQgPSB0aGlzLl90aW1lc0xpa2VkO1xyXG4gICAgICBjb25zdCB1c2VySGFzTGlrZWQgPSB0aGlzLl9saWtlZERhdGEuc29tZSgobGlrZXMpID0+IGxpa2VzLl9pZCA9PT0gdGhpcy5fdXNlcik7XHJcbiAgICAgIGlmICh1c2VySGFzTGlrZWQpIHtcclxuICAgICAgICAgIHRoaXMuX25ld1BsYWNlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faGVhcnRcIikuY2xhc3NMaXN0LmFkZChcImNhcmRfX2hlYXJ0X2xpa2VkXCIpO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkKCkge1xyXG4gICAgICB0aGlzLl9uZXdQbGFjZSA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICB0aGlzLl9uZXdQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgdGhpcy5fcGxhY2VJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgICB0aGlzLl9wbGFjZUltYWdlLmFsdCA9IGAke3RoaXMuX25hbWV9YDtcclxuICAgICAgdGhpcy5fc2V0TGlrZWRTdGF0dXMoKTtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9uZXdQbGFjZTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyLCBjb250YWluZXJTZWxlY3RvciB9KSB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgc2V0SXRlbXMoY2FyZCkge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlID0gdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZSkge1xyXG4gICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZU92ZXJsYXlDbG9zZShlKSB7XHJcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpIHtcclxuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XHJcbiAgICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgICAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgZm9ybVN1Ym1pdEhhbmRsZXIgfSkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NhdmUtYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyID0gZm9ybVN1Ym1pdEhhbmRsZXI7XHJcbiAgICB9XHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKSk7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBkYXRhW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgICAgICAgICB0aGlzLl9mb3JtU3VibWl0SGFuZGxlcih0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBmb3JtU3VibWl0SGFuZGxlciB9KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc2F2ZS1idXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5fZm9ybVN1Ym1pdEhhbmRsZXIgPSBmb3JtU3VibWl0SGFuZGxlcjtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGV2dCwgY2FyZElkKSB7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiWWVzXCI7XHJcbiAgICAgICAgdGhpcy5fY2FyZElkID0gY2FyZElkO1xyXG4gICAgICAgIHRoaXMuX2NhcmQgPSBldnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCJEZWxldGluZy4uLlwiO1xyXG4gICAgICAgICAgICB0aGlzLl9mb3JtU3VibWl0SGFuZGxlcih0aGlzLl9jYXJkLCB0aGlzLl9jYXJkSWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgYWJvdXQsIF9pZCwgYXZhdGFyLCBuYW1lRWxlbWVudCwgYWJvdXRFbGVtZW50LCBhdmF0YXJFbGVtZW50IH0pIHtcclxuICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICAgIHRoaXMuX2Fib3V0ID0gYWJvdXQ7XHJcbiAgICAgIHRoaXMuX2lkID0gX2lkO1xyXG4gICAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XHJcblxyXG4gICAgICB0aGlzLl9wcm9maWxlTmFtZSA9IG5hbWVFbGVtZW50O1xyXG4gICAgICB0aGlzLl9wcm9maWxlQWJvdXQgPSBhYm91dEVsZW1lbnQ7XHJcbiAgICAgIHRoaXMuX3Byb2ZpbGVJbWFnZSA9IGF2YXRhckVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVVc2VySW5mbyh7IG5hbWUsIGFib3V0LCBfaWQsIGF2YXRhciB9KSB7XHJcbiAgICAgIHRoaXMuX25hbWUgPSBuYW1lIHx8IHRoaXMuX25hbWU7XHJcbiAgICAgIHRoaXMuX2Fib3V0ID0gYWJvdXQgfHwgdGhpcy5fYWJvdXQ7XHJcbiAgICAgIHRoaXMuX2lkID0gX2lkIHx8IHRoaXMuX2lkO1xyXG4gICAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXIgfHwgdGhpcy5fYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQXZhdGFyKCkge1xyXG4gICAgICB0aGlzLl9wcm9maWxlSW1hZ2Uuc3JjID0gXCJcIjtcclxuICAgICAgdGhpcy5fcHJvZmlsZUltYWdlLmFsdCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXHJcbiAgICAgICAgICBhYm91dDogdGhpcy5fYWJvdXQsXHJcbiAgICAgICAgICBfaWQ6IHRoaXMuX2lkLFxyXG4gICAgICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIsXHJcbiAgICAgIH07XHJcbiAgfVxyXG5cclxuICByZW5kZXJVc2VySW5mbygpIHtcclxuICAgICAgLy8gcG9wdWxhdGUgcHJvZmlsZSB3aXRoIHVzZXJJbmZvXHJcbiAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgdGhpcy5fcHJvZmlsZUFib3V0LnRleHRDb250ZW50ID0gdGhpcy5fYWJvdXQ7XHJcbiAgICAgIHRoaXMuX3Byb2ZpbGVJbWFnZS5zcmMgPSB0aGlzLl9hdmF0YXI7XHJcbiAgICAgIHRoaXMuX3Byb2ZpbGVJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICB0aGlzLl9pbnB1dCA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXQpKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC5wb3B1cF9faW5wdXQtZXJyb3JfJHtpbnB1dEVsZW1lbnQuaWR9YCk7XHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLnBvcHVwX19pbnB1dC1lcnJvcl8ke2lucHV0RWxlbWVudC5pZH1gKTtcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uKTtcclxuICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbik7XHJcbiAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufSIsImV4cG9ydCBjb25zdCBwbGFjZXNDb250YWluZXJTZWxlY3RvciA9IFwiLmNhcmRzXCI7XHJcbmV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0b3JGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV9yb2xlX2VkaXRcIik7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1vdmVybGF5XCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyVXBkYXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fcm9sZV9hdmF0YXJcIik7XHJcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBpbWFnZUFkZGVyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fcm9sZV9hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWJvdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9yb2xlX25hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfcm9sZV90aXRsZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQ2hhbmdlQXZhdGFyID0gXCIucG9wdXBfdHlwZV9hdmF0YXJcIjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwUHJvZmlsZUVkaXRvciA9IFwiLnBvcHVwX3JvbGVfZWRpdFwiO1xyXG5leHBvcnQgY29uc3QgcG9wdXBOZXdQbGFjZUFkZGVyID0gXCIucG9wdXBfcm9sZV9hZGRcIjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VQcmV2aWV3ID0gXCIucG9wdXBfcm9sZV9pbWFnZVwiO1xyXG5leHBvcnQgY29uc3QgcGxhY2VUZW1wbGF0ZSA9IFwiI3BsYWNlLXRlbXBsYXRlXCI7XHJcblxyXG4vLyBleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIixcclxuLy8gICB9LFxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIixcclxuLy8gICB9LFxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiLFxyXG4vLyAgIH0sXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCIsXHJcbi8vICAgfSxcclxuLy8gXTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICAgIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlLWJ1dHRvblwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZS1idXR0b25fZGlzYWJsZWRcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfaW52YWxpZFwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07IiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGUuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHtcclxuICAgIHBsYWNlc0NvbnRhaW5lclNlbGVjdG9yLFxyXG4gICAgZWRpdEJ1dHRvbixcclxuICAgIHByb2ZpbGVFZGl0b3JGb3JtLFxyXG4gICAgYXZhdGFyVXBkYXRlRm9ybSxcclxuICAgIGF2YXRhckJ1dHRvbixcclxuICAgIGFkZEJ1dHRvbixcclxuICAgIGltYWdlQWRkZXJGb3JtLFxyXG4gICAgcG9wdXBOYW1lLFxyXG4gICAgcG9wdXBUaXRsZSxcclxuICAgIHNldHRpbmdzLFxyXG4gICAgcHJvZmlsZU5hbWVFbGVtZW50LFxyXG4gICAgcHJvZmlsZUFib3V0RWxlbWVudCxcclxuICAgIHByb2ZpbGVBdmF0YXJFbGVtZW50LFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gICAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjliODE1Yzg4LTMwZTEtNDJmYS1iMzYzLTA0Yzc4YmYwZDYzM1wiLFxyXG59KTtcclxuXHJcbmNvbnN0IGFkZFBsYWNlVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBpbWFnZUFkZGVyRm9ybSk7XHJcbmNvbnN0IHByb2ZpbGVWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIHByb2ZpbGVFZGl0b3JGb3JtKTtcclxuY29uc3QgYXZhdGFyVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBhdmF0YXJVcGRhdGVGb3JtKTtcclxuXHJcbnByb2ZpbGVWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYWRkUGxhY2VWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYXZhdGFyVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgICBuYW1lRWxlbWVudDogcHJvZmlsZU5hbWVFbGVtZW50LFxyXG4gICAgYWJvdXRFbGVtZW50OiBwcm9maWxlQWJvdXRFbGVtZW50LFxyXG4gICAgYXZhdGFyRWxlbWVudDogcHJvZmlsZUF2YXRhckVsZW1lbnQsXHJcbn0pO1xyXG5cclxuY29uc3QgY29uZmlybURlbGV0ZVBvcHVwID0gbmV3IFBvcHVwRGVsZXRlKHtcclxuICAgIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3JvbGVfZGVsZXRlXCIsXHJcbiAgICBmb3JtU3VibWl0SGFuZGxlcjogKGNhcmRFbGVtZW50LCBjYXJkSWQpID0+IHtcclxuICAgICAgICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uZmlybURlbGV0ZVBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBQcm9ibGVtIGRlbGV0aW5nIGNhcmQ6ICR7ZXJyfWApKTtcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlTmV3Q2FyZCA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICByZXR1cm4gbmV3IENhcmQoe1xyXG4gICAgICAgIGNhcmQ6IGl0ZW0sXHJcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAobmFtZSwgbGluaykgPT4ge1xyXG4gICAgICAgICAgICBpbWFnZVByZXZpZXdQb3B1cC5vcGVuKG5hbWUsIGxpbmspO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFuZGxlRGVsZXRlQ2xpY2s6IChldnQpID0+IHtcclxuICAgICAgICAgICAgY29uZmlybURlbGV0ZVBvcHVwLm9wZW4oZXZ0LCBpdGVtLl9pZCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2VyRGF0YTogdXNlckluZm8uZ2V0VXNlckluZm8oKSxcclxuICAgICAgICBoYW5kbGVMaWtlQ2FyZDogKHN0YXR1cykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdHVzID8gYXBpLmxpa2VDYXJkKGl0ZW0uX2lkKSA6IGFwaS5yZW1vdmVMaWtlKGl0ZW0uX2lkKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlbXBsYXRlU2VsZWN0b3I6IFwiI3BsYWNlLXRlbXBsYXRlXCIsXHJcbiAgICB9KTtcclxufTtcclxuY29uc3QgcGxhY2VDYXJkcyA9IG5ldyBTZWN0aW9uKHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVOZXdDYXJkKGl0ZW0pO1xyXG4gICAgICAgIHBsYWNlQ2FyZHMuc2V0SXRlbXMobmV3Q2FyZC5jcmVhdGVDYXJkKCkpO1xyXG4gICAgfSxcclxuICAgIGNvbnRhaW5lclNlbGVjdG9yOiBwbGFjZXNDb250YWluZXJTZWxlY3RvcixcclxufSk7XHJcblxyXG5jb25zdCBpbWFnZVByZXZpZXdQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF9yb2xlX2ltYWdlXCIpO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRvciA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICAgIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3JvbGVfZWRpdFwiLFxyXG4gICAgZm9ybVN1Ym1pdEhhbmRsZXI6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgYXBpLnVwZGF0ZVByb2ZpbGUoZGF0YSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdXNlckluZm8udXBkYXRlVXNlckluZm8oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB1c2VySW5mby5yZW5kZXJVc2VySW5mbygpO1xyXG4gICAgICAgICAgICAgICAgcHJvZmlsZUVkaXRvci5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgUHJvYmxlbSB1cGRhdGluZyBwcm9maWxlOiAke2Vycn1gKSk7XHJcbiAgICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGltYWdlQWRkZXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICAgIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3JvbGVfYWRkXCIsXHJcbiAgICBmb3JtU3VibWl0SGFuZGxlcjogKGRhdGEpID0+IHtcclxuICAgICAgICBhcGkuYWRkQ2FyZChkYXRhKVxyXG4gICAgICAgICAgICAudGhlbigoY2FyZERhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVOZXdDYXJkKGNhcmREYXRhKTtcclxuICAgICAgICAgICAgICAgIHBsYWNlQ2FyZHMuc2V0SXRlbXMobmV3Q2FyZC5jcmVhdGVDYXJkKCkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiBpbWFnZUFkZGVyUG9wdXAuY2xvc2UoKSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYFByb2JsZW0gYWRkaW5nIGNhcmQ6ICR7ZXJyfWApKTtcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgYXZhdGFyVXBkYXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF9yb2xlX2F2YXRhclwiLFxyXG4gICAgZm9ybVN1Ym1pdEhhbmRsZXI6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8ucmVtb3ZlQXZhdGFyKCk7XHJcbiAgICAgICAgYXBpLnVwZGF0ZUF2YXRhcihkYXRhKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB1c2VySW5mby51cGRhdGVVc2VySW5mbyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvLnJlbmRlclVzZXJJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXJVcGRhdGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgUHJvYmxlbSB1cGRhdGluZyBhdmF0YXI6ICR7ZXJyfWApKTtcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuY29uZmlybURlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmltYWdlUHJldmlld1BvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnByb2ZpbGVFZGl0b3Iuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuaW1hZ2VBZGRlclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmF2YXRhclVwZGF0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgcG9wdXBOYW1lLnZhbHVlID0gbmFtZTtcclxuICAgIHBvcHVwVGl0bGUudmFsdWUgPSBhYm91dDtcclxuICAgIHByb2ZpbGVWYWxpZGF0aW9uLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICBwcm9maWxlRWRpdG9yLm9wZW4oKTtcclxufSk7XHJcblxyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGltYWdlQWRkZXJQb3B1cC5vcGVuKCk7XHJcbiAgICBhZGRQbGFjZVZhbGlkYXRpb24udG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxufSk7XHJcblxyXG5hdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGF2YXRhclVwZGF0ZVBvcHVwLm9wZW4oKTtcclxuICAgIGF2YXRhclZhbGlkYXRpb24udG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxufSk7XHJcblxyXG5hcGkuZ2V0VXNlckluZm8oKVxyXG4gICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8udXBkYXRlVXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgfSlcclxuXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgYXBpLmdldEdyb3VwQ2FyZHMoKS50aGVuKChmZXRjaGVkQ2FyZHMpID0+IHtcclxuICAgICAgICAgICAgcGxhY2VDYXJkcy5yZW5kZXJJdGVtcyhmZXRjaGVkQ2FyZHMucmV2ZXJzZSgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcblxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnJlbmRlclVzZXJJbmZvKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYFByb2JsZW0gcmVuZGVyaW5nIGNvbnRlbnQ6ICR7ZXJyfWApKTsiXSwic291cmNlUm9vdCI6IiJ9